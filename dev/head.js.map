{"version":3,"sources":["../../node_modules/promise-polyfill/src/finally.js","../../node_modules/promise-polyfill/src/index.js","../../node_modules/promise-polyfill/src/polyfill.js","../../node_modules/whatwg-fetch/fetch.js","polyfills/startsWith.js","polyfills/endsWith.js","polyfills/findIndex.js","polyfills/find.js","polyfills/includes.js","head.js"],"names":["finallyConstructor","callback","constructor","then","value","resolve","reason","reject","setTimeoutFunc","setTimeout","noop","bind","fn","thisArg","apply","arguments","Promise","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","push","_immediateFn","cb","onFulfilled","onRejected","promise","ret","e","newValue","finale","length","_unhandledRejectionFn","i","len","Handler","done","ex","prototype","prom","promiseFinally","all","arr","args","Array","slice","call","remaining","res","val","race","values","setImmediate","err","console","warn","globalNS","window","global","Error","support","searchParams","iterable","Symbol","blob","Blob","formData","arrayBuffer","isDataView","obj","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","indexOf","Object","toString","normalizeName","name","String","test","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","Headers","headers","map","forEach","append","isArray","header","getOwnPropertyNames","oldValue","get","has","hasOwnProperty","set","keys","entries","consumed","body","bodyUsed","fileReaderReady","reader","onload","result","onerror","error","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","join","bufferClone","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","type","rejected","text","decode","json","JSON","parse","methods","normalizeMethod","method","upcased","toUpperCase","Request","input","options","url","credentials","mode","signal","referrer","clone","form","trim","split","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","preProcessedHeaders","line","parts","key","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","location","DOMException","message","stack","create","fetch","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","startsWith","searchString","position","substr","endsWith","subjectString","isFinite","Math","floor","lastIndex","lastIndexOf","findIndex","defineProperty","predicate","list","enumerable","configurable","writable","find","includes","searchElement","fromIndex","o","n","k","max","abs"],"mappings":"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","file":"head.js","sourceRoot":"../src/js","sourcesContent":["/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n","import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","import Promise from './index';\nimport promiseFinally from './finally';\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!('Promise' in globalNS)) {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = promiseFinally;\n}\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","if (!String.prototype.startsWith) {\n\tString.prototype.startsWith = function(searchString, position) {\n\t\treturn this.substr(position || 0, searchString.length) === searchString;\n\t};\n}\n","if (!String.prototype.endsWith) {\n  String.prototype.endsWith = function(searchString, position) {\n      var subjectString = this.toString();\n      if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n        position = subjectString.length;\n      }\n      position -= searchString.length;\n      var lastIndex = subjectString.lastIndexOf(searchString, position);\n      return lastIndex !== -1 && lastIndex === position;\n  };\n}","if (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, 'findIndex', {\n    value: function(predicate) {\n      'use strict';\n      if (this == null) {\n        throw new TypeError('Array.prototype.findIndex called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n    enumerable: false,\n    configurable: false,\n    writable: false\n  });\n}","if (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value: function(predicate) {\n     'use strict';\n     if (this == null) {\n       throw new TypeError('Array.prototype.find called on null or undefined');\n     }\n     if (typeof predicate !== 'function') {\n       throw new TypeError('predicate must be a function');\n     }\n     var list = Object(this);\n     var length = list.length >>> 0;\n     var thisArg = arguments[1];\n     var value;\n\n     for (var i = 0; i < length; i++) {\n       value = list[i];\n       if (predicate.call(thisArg, value, i, list)) {\n         return value;\n       }\n     }\n     return undefined;\n    }\n  });\n}","// https://tc39.github.io/ecma262/#sec-array.prototype.includes\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function(searchElement, fromIndex) {\n\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If len is 0, return false.\n      if (len === 0) {\n        return false;\n      }\n\n      // 4. Let n be ? ToInteger(fromIndex).\n      //    (If fromIndex is undefined, this step produces the value 0.)\n      var n = fromIndex | 0;\n\n      // 5. If n  0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. If k < 0, let k be 0.\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      // 7. Repeat, while k < len\n      while (k < len) {\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n        // b. If SameValueZero(searchElement, elementK) is true, return true.\n        // c. Increase k by 1.\n        // NOTE: === provides the correct \"SameValueZero\" comparison needed here.\n        if (o[k] === searchElement) {\n          return true;\n        }\n        k++;\n      }\n\n      // 8. Return false\n      return false;\n    }\n  });\n}","import 'promise-polyfill/src/polyfill';\nimport 'whatwg-fetch';\nimport './polyfills/startsWith';\nimport './polyfills/endsWith';\nimport './polyfills/findIndex';\nimport './polyfills/find';\nimport './polyfills/includes';\n"]}